<?xml version="1.0" encoding="UTF-8"?>
<PageDefinition
  kind="blueprint"
  module="admin-community"
  route="members/dashboard"
  schemaVersion="1.0.0"
  contentVersion="1.0.0"
  locale="en-US"
>
  <Page id="admin-community-membership-dashboard">
    <Title>Membership intelligence dashboard</Title>
    <Regions>
      <Region id="main">
        <Component id="dashboard-hero" type="HeroSection">
          <Props>
            <Prop name="variant" kind="static">split</Prop>
            <Prop name="eyebrow" kind="binding" source="dashboardHero" path="eyebrow" />
            <Prop name="headline" kind="binding" source="dashboardHero" path="headline" />
            <Prop name="description" kind="binding" source="dashboardHero" path="description" />
            <Prop name="highlights" kind="binding" source="dashboardHero" path="highlights" />
            <Prop name="metrics" kind="binding" source="dashboardHero" path="metrics" />
            <Prop name="primaryCta" kind="action" actionId="open-member-list" />
            <Prop name="secondaryCta" kind="action" actionId="launch-new-member" />
          </Props>
        </Component>
        <Component id="dashboard-kpis" type="AdminMetricCards">
          <Props>
            <Prop name="title" kind="static">Ministry KPIs at a glance</Prop>
            <Prop name="description" kind="static">Measure the spiritual and financial health of your congregation in real time.</Prop>
            <Prop name="metrics" kind="binding" source="membershipMetrics" path="items" />
            <Prop name="footnote" kind="static">Benchmarks compare against the previous four-week cycle across all campuses.</Prop>
          </Props>
        </Component>
        <Component id="dashboard-quick-links" type="AdminQuickLinks">
          <Props>
            <Prop name="title" kind="static">Jump to focus areas</Prop>
            <Prop name="description" kind="static">Coordinate membership, giving, and care workflows without leaving the dashboard.</Prop>
            <Prop name="columns" kind="static">3</Prop>
            <Prop name="links" kind="binding" source="dashboardQuickLinks" path="items" />
            <Prop name="actions" kind="binding" source="dashboardQuickLinks" path="actions" />
          </Props>
        </Component>
        <Component id="giving-trend" type="AdminGivingChart">
          <Props>
            <Prop name="title" kind="static">Covenant giving momentum</Prop>
            <Prop name="description" kind="static">Track pledged commitments, received giving, and household participation to steward financial health.</Prop>
            <Prop name="data" kind="binding" source="givingTrend" path="points" />
            <Prop name="highlight" kind="binding" source="givingTrend" path="highlight" />
          </Props>
        </Component>
        <Component id="care-timeline" type="AdminActivityTimeline">
          <Props>
            <Prop name="title" kind="static">Care &amp; discipleship milestones</Prop>
            <Prop name="description" kind="static">Recent spiritual milestones and upcoming pastoral follow-ups surfaced across your membership.</Prop>
            <Prop name="accentLabel" kind="static">This week</Prop>
            <Prop name="events" kind="binding" source="careTimeline" path="items" />
          </Props>
        </Component>
      </Region>
    </Regions>
    <DataSources>
      <DataSource id="dashboardHero" kind="static">
        <Json><![CDATA[
          {
            "eyebrow": "Community health pulse",
            "headline": "Shepherd every household with real-time ministry insight",
            "description": "Monitor membership vitality, giving momentum, and care commitments across all campuses in one workspace.",
            "highlights": [
              "Map the journey from first-time guests to covenant members with automated stage tracking.",
              "Surface households at financial risk before pledges lapse and route them to campus pastors.",
              "Keep every ministry aligned with dashboards tailored for elders, finance teams, and care leads."
            ],
            "metrics": [
              { "label": "Active households", "value": "1,284", "caption": "73% engaged over the last 30 days." },
              { "label": "Recurring giving", "value": "$412K", "caption": "42% increase versus last fall." },
              { "label": "Care plans", "value": "186", "caption": "Active pastoral follow-up sequences." }
            ]
          }
        ]]></Json>
      </DataSource>
      <DataSource id="membershipMetrics" kind="static">
        <Json><![CDATA[
          {
            "items": [
              {
                "id": "kpi-new-members",
                "label": "New covenant members",
                "value": "38",
                "change": "+12",
                "changeLabel": "vs. last month",
                "trend": "up",
                "tone": "positive",
                "description": "Fifteen households completed the covenant class and onboarding interviews."
              },
              {
                "id": "kpi-lapsed-givers",
                "label": "Lapsed recurring givers",
                "value": "17",
                "change": "-5",
                "changeLabel": "since July",
                "trend": "down",
                "tone": "negative",
                "description": "Coaching calls scheduled to re-engage families who paused automated giving."
              },
              {
                "id": "kpi-pledge-fulfillment",
                "label": "Pledge fulfillment",
                "value": "92%",
                "change": "+4",
                "changeLabel": "quarter over quarter",
                "trend": "up",
                "tone": "informative",
                "description": "Steady rhythm of testimonies has accelerated campaign follow-through."
              },
              {
                "id": "kpi-benevolence",
                "label": "Benevolence requests",
                "value": "24",
                "change": "+6",
                "changeLabel": "pending review",
                "trend": "flat",
                "tone": "neutral",
                "description": "Deacons coordinating relief with local partners and finance committee approval."
              }
            ]
          }
        ]]></Json>
      </DataSource>
      <DataSource id="dashboardQuickLinks" kind="static">
        <Json><![CDATA[
          {
            "items": [
              {
                "id": "link-directory",
                "title": "Membership directory",
                "description": "Filter households, stages, and pastoral assignments to steward discipleship.",
                "href": "/admin/members/list",
                "badge": "Directory",
                "stat": "1,284 active households"
              },
              {
                "id": "link-finance",
                "title": "Financial overview",
                "description": "Review tithes, pledges, and fund balances with finance committee ready reports.",
                "href": "/admin/financial-overview",
                "badge": "Finance",
                "stat": "$1.8M received FY24"
              },
              {
                "id": "link-care",
                "title": "Care follow-ups",
                "description": "Prioritize counseling, hospital visits, and benevolence requests across campuses.",
                "href": "/admin/members/list?tab=care",
                "badge": "Shepherding",
                "stat": "186 active care plans"
              },
              {
                "id": "link-groups",
                "title": "Groups &amp; teams",
                "description": "Audit participation in small groups and volunteer rotations to close serving gaps.",
                "href": "/admin/modules",
                "badge": "Engagement",
                "stat": "78 thriving teams"
              },
              {
                "id": "link-events",
                "title": "Next step pipeline",
                "description": "Track baptisms, membership interviews, and leadership residency cohorts.",
                "href": "/admin/members/list?view=next-steps",
                "badge": "Milestones",
                "stat": "52 in discipleship track"
              },
              {
                "id": "link-statements",
                "title": "Giving statements",
                "description": "Download quarterly statements and pledge letters ready for donor distribution.",
                "href": "/admin/reports",
                "badge": "Reports",
                "stat": "Next send: Nov 15"
              }
            ],
            "actions": [
              {
                "id": "action-care-strategy",
                "kind": "link",
                "config": {
                  "label": "Plan weekend huddles",
                  "url": "/admin/support",
                  "variant": "secondary"
                }
              }
            ]
          }
        ]]></Json>
      </DataSource>
      <DataSource id="givingTrend" kind="static">
        <Json><![CDATA[
          {
            "highlight": {
              "label": "FY25 YTD",
              "value": "$1.48M received",
              "change": "+11% participation"
            },
            "points": [
              { "period": "Apr", "pledged": 210000, "received": 198000, "participation": 58 },
              { "period": "May", "pledged": 224000, "received": 205500, "participation": 60 },
              { "period": "Jun", "pledged": 238500, "received": 219800, "participation": 62 },
              { "period": "Jul", "pledged": 247000, "received": 231400, "participation": 63 },
              { "period": "Aug", "pledged": 255500, "received": 244300, "participation": 65 },
              { "period": "Sep", "pledged": 263000, "received": 251900, "participation": 66 },
              { "period": "Oct", "pledged": 276500, "received": 269400, "participation": 68 }
            ]
          }
        ]]></Json>
      </DataSource>
      <DataSource id="careTimeline" kind="static">
        <Json><![CDATA[
          {
            "items": [
              {
                "id": "timeline-baptisms",
                "title": "Seven baptisms celebrated",
                "date": "Oct 13",
                "timeAgo": "3 days ago",
                "description": "Downtown campus welcomed seven new believers during the 11am gathering.",
                "category": "Milestone",
                "status": "completed",
                "icon": "💧"
              },
              {
                "id": "timeline-benevolence",
                "title": "Benevolence board review",
                "date": "Oct 16",
                "timeAgo": "Tomorrow",
                "description": "Finance and deacon teams meeting to approve four urgent assistance requests.",
                "category": "Finance",
                "status": "scheduled",
                "icon": "🤝",
                "amount": "$6,200"
              },
              {
                "id": "timeline-hospital",
                "title": "Hospital visit scheduled",
                "date": "Oct 18",
                "timeAgo": "In 3 days",
                "description": "Care pastors rotating to pray with the Walters family during recovery.",
                "category": "Care",
                "status": "attention",
                "icon": "🕊️"
              },
              {
                "id": "timeline-leadership",
                "title": "Leadership residency interviews",
                "date": "Oct 20",
                "timeAgo": "In 5 days",
                "description": "Eight candidates progressing to final round for 2025 discipleship cohort.",
                "category": "Development",
                "status": "new",
                "icon": "🌱"
              }
            ]
          }
        ]]></Json>
      </DataSource>
    </DataSources>
    <Actions>
      <Action id="open-member-list" kind="link">
        <Config>
          <Label>View membership list</Label>
          <Url>/admin/members/list</Url>
          <Variant>primary</Variant>
        </Config>
      </Action>
      <Action id="launch-new-member" kind="link">
        <Config>
          <Label>Add new member</Label>
          <Url>/admin/members/manage</Url>
          <Variant>secondary</Variant>
        </Config>
      </Action>
    </Actions>
  </Page>
</PageDefinition>
