<?xml version="1.0" encoding="UTF-8"?>
<PageDefinition
  kind="blueprint"
  module="admin-community"
  route="templates/member-workspace"
  schemaVersion="1.0.0"
  contentVersion="1.0.0"
  locale="en-US"
>
  <Page id="admin-community-template-member-workspace">
    <Title>Template · Member workspace</Title>
    <Regions>
      <Region id="primary">
        <Component id="workspace-profile" type="AdminMemberWorkspace">
          <Props>
            <Prop name="variant" kind="static">profile</Prop>
            <Prop name="tabs" kind="binding" source="workspaceTemplate" path="$.profile.tabs" />
            <Prop name="emptyState" kind="binding" source="workspaceTemplate" path="$.profile.emptyState" />
          </Props>
        </Component>
        <Component id="workspace-manage" type="AdminMemberWorkspace">
          <Props>
            <Prop name="variant" kind="static">manage</Prop>
            <Prop name="tabs" kind="binding" source="workspaceTemplate" path="$.manage.tabs" />
            <Prop name="form" kind="binding" source="workspaceTemplate" path="$.manage.form" />
          </Props>
        </Component>
      </Region>
    </Regions>
    <DataSources>
      <DataSource id="workspaceTemplate" kind="static">
        <Json><![CDATA[
          {
            "profile": {
              "emptyState": {
                "title": "No member data",
                "description": "This template requires a tab definition to render workspace content."
              },
              "tabs": [
                {
                  "id": "identity",
                  "label": "Identity",
                  "description": "Household profile, contact preferences, and emergency contacts.",
                  "sections": [
                    {
                      "kind": "panel",
                      "id": "identity-basics",
                      "title": "Identity & household",
                      "summary": {
                        "label": "Household",
                        "value": "Johnson family",
                        "description": "Envelope #2041 · Individual assignment"
                      },
                      "panels": [
                        {
                          "title": "Profile",
                          "items": [
                            { "label": "Preferred name", "value": "Avery" },
                            { "label": "Envelope number", "value": "2041" },
                            { "label": "Birthdate", "value": "1986-05-12" },
                            { "label": "Marital status", "value": "Married" }
                          ]
                        },
                        {
                          "title": "Household",
                          "items": [
                            { "label": "Members", "type": "chips", "items": ["Avery", "Jordan", "Micah", "Selah"] },
                            { "label": "Address", "type": "multiline", "value": "412 Hope Ave\nSpringfield, IL 62704" }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "engagement",
                  "label": "Engagement",
                  "description": "Groups, serving rhythm, and attendance signals.",
                  "sections": [
                    {
                      "kind": "panel",
                      "id": "engagement-overview",
                      "title": "Groups & attendance",
                      "panels": [
                        {
                          "title": "Communities",
                          "items": [
                            { "label": "Groups", "type": "chips", "items": ["Leadership Cohort", "Hospitality" ] },
                            { "label": "Attendance", "value": "92% last 12 weeks" },
                            { "label": "Last check-in", "value": "2024-10-13" }
                          ]
                        },
                        {
                          "title": "Serving",
                          "items": [
                            { "label": "Team", "value": "Hospitality" },
                            { "label": "Role", "value": "Usher captain" },
                            { "label": "Coach", "value": "Rachel Kim" }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "manage": {
              "form": {
                "initialValues": {
                  "firstName": "Avery",
                  "lastName": "Johnson",
                  "email": "avery.johnson@example.org",
                  "phone": "(555) 204-1188",
                  "stage": "active",
                  "careStatus": "active"
                },
                "submitLabel": "Save member",
                "cancelAction": {
                  "config": { "label": "Back to profile", "url": "/admin/members/mem_001", "variant": "ghost" }
                },
                "submitAction": {
                  "config": { "handler": "admin-community.members.manage.saveMember" }
                },
                "mode": "edit",
                "footnote": "Workspace template demo"
              },
              "tabs": [
                {
                  "id": "profile",
                  "label": "Profile basics",
                  "sections": [
                    {
                      "kind": "form",
                      "id": "identity",
                      "title": "Identity",
                      "description": "Names, household, and demographics.",
                      "fields": [
                        { "name": "firstName", "label": "First name", "type": "text", "colSpan": "half", "required": true },
                        { "name": "lastName", "label": "Last name", "type": "text", "colSpan": "half", "required": true },
                        { "name": "birthdate", "label": "Birthdate", "type": "date", "colSpan": "half" },
                        { "name": "maritalStatus", "label": "Marital status", "type": "select", "colSpan": "half", "options": [
                          { "label": "Single", "value": "single" },
                          { "label": "Married", "value": "married" },
                          { "label": "Widowed", "value": "widowed" }
                        ] }
                      ]
                    }
                  ]
                },
                {
                  "id": "care",
                  "label": "Care",
                  "sections": [
                    {
                      "kind": "form",
                      "id": "care-section",
                      "title": "Care plan",
                      "fields": [
                        { "name": "careStatus", "label": "Care status", "type": "select", "colSpan": "half", "options": [
                          { "label": "Active", "value": "active" },
                          { "label": "Observation", "value": "observation" },
                          { "label": "Resolved", "value": "resolved" }
                        ] },
                        { "name": "carePastor", "label": "Assigned pastor", "type": "text", "colSpan": "half" },
                        { "name": "pastoralNotes", "label": "Pastoral notes", "type": "textarea", "colSpan": "full" }
                      ]
                    }
                  ]
                }
              ]
            }
          }
        ]]></Json>
      </DataSource>
    </DataSources>
  </Page>
</PageDefinition>
